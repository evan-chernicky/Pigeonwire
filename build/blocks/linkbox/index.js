(()=>{"use strict";var e,t={358:(e,t,r)=>{const i=window.wp.blocks,n=JSON.parse('{"UU":"pigeonwire/linkbox"}'),o=window.wp.apiFetch;var s=r.n(o);const a=window.wp.primitives,l=window.ReactJSXRuntime,c=(0,l.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(a.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),d=window.wp.components,p=window.wp.blockEditor,h=r.p+"images/placeholder.c8f34a93.jpg",u=window.wp.element;(0,i.registerBlockType)(n.UU,{edit:function(e){const t=(0,p.useBlockProps)(),[r,i]=(0,u.useState)(!1),{imgID:n,imgURL:o,linkObject:a}=e.attributes;return(0,u.useEffect)(()=>{o||e.setAttributes({imgURL:h})},[]),(0,u.useEffect)(()=>{!async function(){if(n)try{const t=await s()({path:`/wp/v2/media/${n}`,method:"GET"});e.setAttributes({imgURL:t.media_details.sizes.medium_large.source_url})}catch(e){console.error("Failed to fetch media details:",e)}}()},[n]),(0,l.jsxs)("div",{...t,children:[(0,l.jsx)(p.BlockControls,{children:(0,l.jsx)(d.ToolbarGroup,{children:(0,l.jsx)(d.ToolbarButton,{onClick:()=>i(e=>!e),icon:c})})}),(0,l.jsx)(p.InspectorControls,{children:(0,l.jsx)(d.PanelBody,{title:"Background",initialOpen:!0,children:(0,l.jsx)(d.PanelRow,{children:(0,l.jsx)(p.MediaUploadCheck,{children:(0,l.jsx)(p.MediaUpload,{onSelect:function(t){e.setAttributes({imgID:t.id})},value:n,render:({open:e})=>(0,l.jsx)(d.Button,{onClick:e,children:"Choose Image"})})})})})}),r&&(0,l.jsxs)(d.Popover,{position:"middle center",onFocusOutside:()=>i(!1),children:[(0,l.jsx)(p.LinkControl,{settings:[],value:a,onChange:t=>e.setAttributes({linkObject:t})}),(0,l.jsx)(d.Button,{variant:"primary",onClick:()=>i(!1),style:{display:"block",width:"100%"},children:"Confirm Link"})]}),(0,l.jsxs)("a",{href:"#",className:"linkbox",children:[(0,l.jsx)("div",{className:"linkbox__image-container",children:(0,l.jsx)("img",{className:"linkbox__image",src:o})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"Category"}),(0,l.jsx)("h3",{children:a.title})]})]})]})},save:()=>null})}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,r,n,o)=>{if(!r){var s=1/0;for(d=0;d<e.length;d++){for(var[r,n,o]=e[d],a=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(i.O).every(e=>i.O[e](r[l]))?r.splice(l--,1):(a=!1,o<s&&(s=o));if(a){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,n,o]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e+"../../"})(),(()=>{var e={478:0,578:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)var d=l(i)}for(t&&t(r);c<s.length;c++)o=s[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(d)},r=globalThis.webpackChunktwentytwentyfive=globalThis.webpackChunktwentytwentyfive||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=i.O(void 0,[578],()=>i(358));n=i.O(n)})();